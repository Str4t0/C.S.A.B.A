# ğŸ—ï¸ Rendszer ArchitektÃºra

## System Architect: Alex Chen
**DÃ¡tum:** 2024-11-26

---

## ğŸ¨ High-Level ArchitektÃºra

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Desktop    â”‚  â”‚    Tablet    â”‚  â”‚    Mobile    â”‚  â”‚
â”‚  â”‚   Browser    â”‚  â”‚   Browser    â”‚  â”‚   Browser    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ HTTPS/REST API
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FRONTEND LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           React Application (SPA)                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ UI       â”‚  â”‚ State    â”‚  â”‚ API          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Componentsâ”‚  â”‚Managementâ”‚  â”‚ Client       â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚      Camera & File Upload Module         â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ HTTP/JSON
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           FastAPI Application                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ REST     â”‚  â”‚ Business â”‚  â”‚ Image        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Endpointsâ”‚  â”‚ Logic    â”‚  â”‚ Processing   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚         SQLAlchemy ORM Layer              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ SQL
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   SQLite/    â”‚              â”‚   File System    â”‚    â”‚
â”‚  â”‚  PostgreSQL  â”‚              â”‚  (Image Storage) â”‚    â”‚
â”‚  â”‚   Database   â”‚              â”‚                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š AdatbÃ¡zis SÃ©ma

### Items Table (TÃ¡rgyak)
```sql
CREATE TABLE items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(200) NOT NULL,
    category VARCHAR(100) NOT NULL,
    description TEXT,
    purchase_price DECIMAL(10, 2),
    purchase_date DATE,
    location VARCHAR(200),
    notes TEXT,
    image_filename VARCHAR(300),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_category ON items(category);
CREATE INDEX idx_name ON items(name);
```

### Categories Table (KategÃ³riÃ¡k)
```sql
CREATE TABLE categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) UNIQUE NOT NULL,
    icon VARCHAR(50),
    color VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## ğŸ”Œ API Endpoints

### Items API
| Method | Endpoint | LeÃ­rÃ¡s |
|--------|----------|--------|
| GET | `/api/items` | Ã–sszes tÃ¡rgy listÃ¡zÃ¡sa |
| GET | `/api/items/{id}` | Egy tÃ¡rgy lekÃ©rÃ©se |
| POST | `/api/items` | Ãšj tÃ¡rgy lÃ©trehozÃ¡sa |
| PUT | `/api/items/{id}` | TÃ¡rgy mÃ³dosÃ­tÃ¡sa |
| DELETE | `/api/items/{id}` | TÃ¡rgy tÃ¶rlÃ©se |
| GET | `/api/items/search?q={query}` | KeresÃ©s |

### Images API
| Method | Endpoint | LeÃ­rÃ¡s |
|--------|----------|--------|
| POST | `/api/upload` | KÃ©p feltÃ¶ltÃ©s |
| GET | `/api/images/{filename}` | KÃ©p lekÃ©rÃ©se |
| DELETE | `/api/images/{filename}` | KÃ©p tÃ¶rlÃ©se |

### Categories API
| Method | Endpoint | LeÃ­rÃ¡s |
|--------|----------|--------|
| GET | `/api/categories` | KategÃ³riÃ¡k listÃ¡zÃ¡sa |
| POST | `/api/categories` | Ãšj kategÃ³ria |

---

## ğŸ”’ BiztonsÃ¡gi MegfontolÃ¡sok

1. **Input ValidÃ¡ciÃ³**
   - Pydantic modellek minden bemeneti adatra
   - FÃ¡jl tÃ­pus Ã©s mÃ©ret ellenÅ‘rzÃ©s
   - SQL injection vÃ©delem (ORM hasznÃ¡lat)

2. **CORS KonfigurÃ¡ciÃ³**
   - EngedÃ©lyezett origin-ek definiÃ¡lÃ¡sa
   - Credentials tÃ¡mogatÃ¡s

3. **File Upload BiztonsÃ¡g**
   - EngedÃ©lyezett fÃ¡jl tÃ­pusok: jpg, jpeg, png, webp
   - Maximum fÃ¡jlmÃ©ret: 5MB
   - FÃ¡jlnÃ©v sanitizÃ¡lÃ¡s
   - VeszÃ©lyes file extension-Ã¶k blokkolÃ¡sa

4. **Rate Limiting**
   - API endpoint-ok vÃ©delem tÃºlterhelÃ©s ellen

---

## ğŸš€ Deployment ArchitektÃºra

### Docker Compose Setup
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Docker Compose Network          â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   nginx (Reverse Proxy)      â”‚  â”‚
â”‚  â”‚   Port: 80                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                   â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚        â”‚                 â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  frontend  â”‚   â”‚  backend   â”‚  â”‚
â”‚  â”‚  (React)   â”‚   â”‚  (FastAPI) â”‚  â”‚
â”‚  â”‚  Port:3000 â”‚   â”‚  Port:8000 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                    â”‚  volumes   â”‚  â”‚
â”‚                    â”‚  - db      â”‚  â”‚
â”‚                    â”‚  - uploads â”‚  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Projekt StruktÃºra

```
home-inventory-system/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPI app
â”‚   â”‚   â”œâ”€â”€ models.py            # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ schemas.py           # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ database.py          # DB connection
â”‚   â”‚   â”œâ”€â”€ crud.py              # CRUD operations
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ image_handler.py # KÃ©p feldolgozÃ¡s
â”‚   â”‚       â””â”€â”€ validators.py    # ValidÃ¡ciÃ³k
â”‚   â”œâ”€â”€ uploads/                 # FeltÃ¶ltÃ¶tt kÃ©pek
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ItemCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ItemForm.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraCapture.jsx
â”‚   â”‚   â”‚   â””â”€â”€ FileUpload.jsx
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”‚   â””â”€â”€ main.css
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ docker-compose.yml
â””â”€â”€ docs/
    â”œâ”€â”€ PROJECT_SPEC.md
    â”œâ”€â”€ ARCHITECTURE.md
    â””â”€â”€ API_DOCS.md
```

---

## âš¡ TeljesÃ­tmÃ©ny OptimalizÃ¡lÃ¡s

1. **Backend**
   - SQLAlchemy lazy loading
   - KÃ©pek thumbnail generÃ¡lÃ¡s
   - Response caching potenciÃ¡l

2. **Frontend**
   - Code splitting
   - Lazy loading komponensek
   - KÃ©pek lazy loading
   - Virtual scrolling hosszÃº listÃ¡k esetÃ©n

3. **KÃ©pek**
   - WebP formÃ¡tum hasznÃ¡lat
   - Automatikus tÃ¶mÃ¶rÃ­tÃ©s
   - Progressive loading

---

## ğŸ”„ JÃ¶vÅ‘beli BÅ‘vÃ­tÃ©si LehetÅ‘sÃ©gek

1. Multi-user support (autentikÃ¡ciÃ³)
2. Cloud storage integrÃ¡ciÃ³ (AWS S3, Google Cloud)
3. QR kÃ³d generÃ¡lÃ¡s tÃ¡rgyakhoz
4. Export/Import funkciÃ³ (CSV, JSON)
5. StatisztikÃ¡k Ã©s riportok
6. Mobile app (React Native)
7. Barcode scanner
8. EmlÃ©keztetÅ‘k (warranty, maintenance)

---

**JÃ³vÃ¡hagyÃ¡s:** 
- System Architect: âœ…
- Backend Lead: Pending
- Frontend Lead: Pending
- DevOps Lead: Pending
